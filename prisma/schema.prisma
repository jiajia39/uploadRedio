generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "sqlserver"
  url      = env("MSSQL_URL")
}

model Sys_Dictionary {
  cGuid           String    @id(map: "PK_Sys_Dictionary") @db.UniqueIdentifier
  cName           String?   @db.NVarChar(50)
  cValue          String?   @db.NVarChar(50)
  cCategory       String?   @db.NVarChar(50)
  iStatus         Int?
  cCreateUserGuid String?   @db.UniqueIdentifier
  cCreateUserId   String?   @db.VarChar(20)
  cCreateUserName String?   @db.NVarChar(50)
  dCreateTime     DateTime? @db.DateTime
  cModifyUserGuid String?   @db.UniqueIdentifier
  cModifyUserId   String?   @db.VarChar(20)
  cModifyUserName String?   @db.NVarChar(50)
  dModifyTime     DateTime? @db.DateTime
}

model Sys_Log {
  cGuid        String    @id(map: "PK_Sys_Logs") @db.UniqueIdentifier
  dTimeStamp   DateTime? @db.DateTime
  cModule      String?   @db.NVarChar(50)
  cActionType  String?   @db.NVarChar(50)
  cIP          String?   @db.NVarChar(50)
  cUserGuid    String?   @db.UniqueIdentifier
  cUserId      String?   @db.VarChar(20)
  cUserName    String?   @db.NVarChar(50)
  cObjectValue String?   @db.NVarChar(255)
  cDescription String?   @db.NVarChar(255)
}

model Sys_Login_Log {
  cGuid       String    @id(map: "PK__Sys_logi__1CE36B855AB0C8E4") @db.UniqueIdentifier
  browser     String?   @db.VarChar(255)
  device_type String?   @db.VarChar(255)
  ip          String?   @db.VarChar(255)
  login_time  DateTime? @db.DateTime
  region      String?   @db.VarChar(255)
  system_name String?   @db.VarChar(255)
  token       String?   @db.VarChar(Max)
  userid      String?   @db.VarChar(20)
}

model Sys_Menu {
  cGuid       String    @id(map: "PK_Sys_Menu") @db.UniqueIdentifier
  text        String?   @db.VarChar(50)
  ability     String?   @db.NVarChar(255)
  link        String?   @db.VarChar(255)
  i18n        String?   @db.VarChar(255)
  icon        String?   @db.VarChar(50)
  memo        String?   @db.NVarChar(255)
  status      Int?
  sort        Int?
  cParentGuid String?   @db.UniqueIdentifier
  dAddTime    DateTime? @db.DateTime
}

model Sys_Org {
  cGuid           String    @id(map: "PK_Sys_Org") @db.UniqueIdentifier
  cOrgCode        String?   @db.NVarChar(50)
  cOrgName        String?   @db.NVarChar(255)
  cOrgType        String?   @db.NVarChar(50)
  cParentGuid     String?   @db.UniqueIdentifier
  cParentOrgCode  String?   @db.NVarChar(20)
  cParentOrgName  String?   @db.NVarChar(255)
  cHead           String?   @db.NVarChar(50)
  cHeadUserGuid   String?   @db.UniqueIdentifier
  cHeadUserId     String?   @db.VarChar(20)
  iStatus         Int?
  cCreateUserGuid String?   @db.UniqueIdentifier
  cCreateUserId   String?   @db.VarChar(20)
  cCreateUserName String?   @db.NVarChar(50)
  dCreateTime     DateTime? @db.DateTime
  cModifyUserGuid String?   @db.UniqueIdentifier
  cModifyUserId   String?   @db.VarChar(20)
  cModifyUserName String?   @db.NVarChar(50)
  dModifyTime     DateTime? @db.DateTime
}

model Sys_Role {
  cGuid        String    @id(map: "PK_Sys_Role") @db.UniqueIdentifier
  cRoleCode    String?   @db.NVarChar(50)
  cRoleName    String?   @db.NVarChar(50)
  cDescription String?   @db.NVarChar(255)
  dAddTime     DateTime? @db.DateTime
}

model Sys_RoleMenu {
  cGuid       String    @id(map: "PK_Sys_RoleMenu") @db.UniqueIdentifier
  cMenuGuid   String    @db.UniqueIdentifier
  cRoleGuid   String    @db.UniqueIdentifier
  bSelect     Boolean
  text        String?   @db.VarChar(50)
  ability     String?   @db.NVarChar(255)
  link        String?   @db.VarChar(255)
  i18n        String?   @db.VarChar(255)
  icon        String?   @db.VarChar(50)
  memo        String?   @db.NVarChar(255)
  status      Int?
  sort        Int?
  cParentGuid String?   @db.UniqueIdentifier
  dAddTime    DateTime? @db.DateTime
}

model Sys_User {
  cGuid        String    @db.UniqueIdentifier
  userid       String    @db.NVarChar(20)
  username     String?   @db.NVarChar(50)
  lastname     String?   @db.NVarChar(50)
  firstname    String?   @db.NVarChar(50)
  passwordHash String?   @db.NVarChar(50)
  salt         String?   @db.UniqueIdentifier
  avatar       String?   @db.NVarChar(255)
  email        String?   @db.NVarChar(50)
  signature    String?   @db.NVarChar(50)
  title        String?   @db.NVarChar(50)
  group        String?   @db.NVarChar(50)
  notifyCount  Int?
  country      String?   @db.NVarChar(50)
  address      String?   @db.NVarChar(255)
  phone        String?   @db.NVarChar(50)
  dAddTime     DateTime? @db.DateTime
  role         String?   @db.NVarChar(50)

  @@id([cGuid, userid], map: "PK_User")
}

model Pems_MeterPosition {
  id         Int          @id(map: "PK_Pems_MeterPosition") @default(autoincrement())
  cName      String?      @db.VarChar(50)
  cType      String?      @db.VarChar(50)
  cDesc      String?      @db.VarChar(50)
  parentId   Int?
  dAddTime   DateTime?    @db.DateTime
  Pems_Meter Pems_Meter[]
}

model Pems_EnergyFees {
  id     Int     @id(map: "PK_Pems_EnergyFees") @default(autoincrement())
  cPrice Float?
  cType  String? @db.VarChar(50)
  cModel String? @db.VarChar(50)
}

model Pems_Meter {
  id                        Int                         @id(map: "PK_Pems_Meter") @default(autoincrement())
  cName                     String?                     @db.VarChar(50)
  cType                     String?                     @db.VarChar(50)
  cDesc                     String?                     @db.NVarChar(Max)
  cPositionFk               Int?
  dAddTime                  DateTime?                   @db.DateTime
  Pems_MeterPosition        Pems_MeterPosition?         @relation(fields: [cPositionFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Pems_Meter_Position")
  Pems_MeterRecording       Pems_MeterRecording[]
  Pems_MeterReporting_Day   Pems_MeterReporting_Day[]
  Pems_MeterReporting_Month Pems_MeterReporting_Month[]
  Pems_MeterReporting_Week  Pems_MeterReporting_Week[]
  Pems_MeterValues          Pems_MeterValues[]
}

model Pems_MeterValues {
  id          Int         @id(map: "PK_Pems_MeterValues") @default(autoincrement())
  cValue      Float?
  cRecordTime DateTime?   @db.DateTime
  cRecordDate DateTime?   @db.Date
  cRecordType String?     @db.VarChar(50)
  cMerterFk   Int?
  cRecorder   String?     @db.VarChar(50)
  Pems_Meter  Pems_Meter? @relation(fields: [cMerterFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Pems_MeterValues_Meter")
}

model Pems_MeterRecording {
  id          Int         @id(map: "PK_Pems_MeterRecording") @default(autoincrement())
  dStartTime  DateTime?   @db.DateTime
  dEndTime    DateTime?   @db.DateTime
  cRecordDate DateTime?   @db.Date
  cValue      Float?
  cMeterFk    Int?
  Pems_Meter  Pems_Meter? @relation(fields: [cMeterFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Pems_MeterRecording_MeterFk")
}

model Pems_MeterReporting_Day {
  id         Int         @id(map: "PK_dbo.Pems_MeterReporting_Day") @default(autoincrement())
  cValue     Float?
  cMeterFk   Int?
  cDate      String?     @db.VarChar(50)
  Pems_Meter Pems_Meter? @relation(fields: [cMeterFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "Fk_MeterReporting_Meter")
}

model Pems_MeterReporting_Month {
  id         Int         @id(map: "PK_Pems_MeterReporting_Month") @default(autoincrement())
  cValue     Float?
  cMeterFk   Int?
  cMonth     String?     @db.VarChar(50)
  Pems_Meter Pems_Meter? @relation(fields: [cMeterFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Pems_MeterReporting_Month_Meter")
}

model Pems_MeterReporting_Week {
  id         Int         @id(map: "PK_Pems_MeterReporting_Week") @default(autoincrement())
  cValue     Float?
  cMeterFk   Int?
  cWeek      String?     @db.VarChar(100)
  Pems_Meter Pems_Meter? @relation(fields: [cMeterFk], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_Pems_MeterReporting_Week_Meter")
}
